<ion-header [translucent]="true">
  <ion-toolbar color="primary">
    <ion-title>
      <ion-icon name="walk"></ion-icon> สรุปกิจกรรมแปลง
    </ion-title>
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
  </ion-toolbar>

  <div class="info divMg-5" *ngIf="cpActivityData.length == 0">
    <ion-text color="danger">
      <p style="margin-left: 5%; margin: 0;">!!..แปลงนี้ยังไม่มีการบันทึกกิจกรรม</p>
    </ion-text>
  </div>

  <div class="info divMg-5" *ngIf="cpActivityData.length != 0">
    <!-- <p style="margin: 0;">
        <ion-icon name="person-outline"></ion-icon>กิจกรรมแปลงของท่าน
      </p> -->
    <ion-text color="primary">
      <div style="display: flex; justify-content: space-between;align-items: center;">
        <ion-label name="landname" *ngIf="cpActivityData.landname !== null"
          style="font-size: 20px; transition: all 1s;">{{
            cpdata.landname }}</ion-label>
      </div>
      <p style="margin-left: 5%; margin: 0;">แปลง: {{cpActivityData.intlandno}}</p>
      <p class="txtSmall" style="margin-left: 5%; margin: 0;">{{ cpActivityData.CaneTypeName}}
        {{ cpActivityData.landvalue }} ไร่ โซน:
        {{cpActivityData.supzone}} อายุ {{cpActivityData.caneage}} วัน</p>
    </ion-text>
  </div>

  <div class="divMg-5" *ngIf="cpActivityData.length != 0">
    <ion-grid>
      <ion-row>
        <ion-col class="el-center ion-text-center">
          <div class="w3-panel w3-pale-green w3-bottombar w3-border-green">
            <p>พท.เสียหาย {{ cpActivityData.wastedSpaceRai }} ไร่ คงเหลือจริง
              {{ cpActivityData.landvalue-cpActivityData.wastedSpaceRai }}
              ไร่ ตัดพันธุ์ {{ cpActivityData.cutseed }} ตัน สุญเสีย {{ cpActivityData.ton_lost }} ตัน</p>
          </div>
        </ion-col>
      </ion-row>
      <ion-row style="margin-bottom: 5px;">
        <ion-col class="ion-text-center borderDashData bgYellowSoft">
          <ion-text class="txtBold">คงเหลืออ้อย
            <p class="ion-text-center txtLarger txtRed">{{ cpActivityData.Assess_left_fm | number: '1.1-2' }} </p>
          </ion-text>
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>

</ion-header>

<ion-content [fullscreen]="true">

  <ion-grid class="divMg-5" *ngIf="cpActivityData.length != 0">
    <ion-row class="ion-text-center" style="border-bottom: 1px solid; font-size: 18px; font-weight: 900;">
      <ion-col size="2" class="ion-text-left">
        <ion-icon color="success" name="checkmark-circle"></ion-icon>
      </ion-col>
      <ion-col size="6" class="ion-text-left ion-tex-primary">
        <ion-chip color="primary">
          <ion-avatar>
            <ion-icon name="chevron-down"></ion-icon>
          </ion-avatar>
          <ion-label>หัวข้อ</ion-label>
        </ion-chip>
      </ion-col>
      <ion-col size="4">
        <ion-chip color="primary">
          <ion-avatar>
            <ion-icon name="person"></ion-icon>
          </ion-avatar>
          <ion-label>ผลงาน</ion-label>
        </ion-chip>
      </ion-col>
    </ion-row>
    <ion-row style="border-bottom: 1px solid #0003;">
      <ion-col size="2" class="ion-text-left w3-center">
        <ion-icon *ngIf="cpActivityData.groundlevel == true" color="success" name="checkmark-circle"></ion-icon>
        <ion-icon *ngIf="cpActivityData.groundlevel !== true" color="warning" name="close-circle">
        </ion-icon>
      </ion-col>
      <ion-col size="6">
        การปรับระดับในแปลง
      </ion-col>
      <ion-col size="4" class="ion-text-center">
        <ion-text class="gfSriracha txtBlue"> {{ cpActivityData.groundlevelDesc }} </ion-text>
      </ion-col>
    </ion-row>
    <ion-row style="border-bottom: 1px solid #0003;">
      <ion-col size="2" class="ion-text-left w3-center">
        <ion-icon *ngIf="cpActivityData.hardSoilBlast == true" color="success" name="checkmark-circle"></ion-icon>
        <ion-icon *ngIf="cpActivityData.hardSoilBlast == false" color="warning" name="close-circle">
        </ion-icon>
      </ion-col>
      <ion-col size="6">
        ระเบิดดินดาน
      </ion-col>
      <ion-col size="4" class="ion-text-center gfSriracha txtBlue">
        {{ cpActivityData.hardSoilBlastDesc }}
      </ion-col>
    </ion-row>
    <ion-row style="border-bottom: 1px solid #0003;">
      <ion-col size="2" class="ion-text-left w3-center">
        <ion-icon *ngIf="cpActivityData.seedclear == true" color="success" name="checkmark-circle"></ion-icon>
        <ion-icon *ngIf="cpActivityData.seedclear == false" color="warning" name="close-circle">
        </ion-icon>
      </ion-col>
      <ion-col size="6">
        คัดพันธุ์สะอาด
      </ion-col>
      <ion-col size="4" class="ion-text-center gfSriracha txtBlue">
        {{ cpActivityData.seedclearDesc }}
      </ion-col>
    </ion-row>
    <ion-row style="border-bottom: 1px solid #0003;">
      <ion-col size="2" class="ion-text-left w3-center">
        <ion-icon *ngIf="cpActivityData.groove >= 160" color="success" name="checkmark-circle"></ion-icon>
        <ion-icon *ngIf="cpActivityData.groove < 160" color="warning" name="close-circle">
        </ion-icon>
      </ion-col>
      <ion-col size="6">
        ระยะร่อง 160 ซม.
      </ion-col>
      <ion-col size="4" class="ion-text-center gfSriracha txtBlue">
        {{ cpActivityData.grooveDesc }}
      </ion-col>
    </ion-row>
    <ion-row style="border-bottom: 1px solid #0003;">
      <ion-col size="2" class="ion-text-left w3-center">
        <ion-icon *ngIf="cpActivityData.NaturalFertilizer !== '0' || cpActivityData.NaturalFertilizer !== null"
          color="success" name="checkmark-circle"></ion-icon>
        <ion-icon *ngIf="cpActivityData.NaturalFertilizer == '0' || cpActivityData.NaturalFertilizer == null"
          color="warning" name="close-circle">
        </ion-icon>
      </ion-col>
      <ion-col size="6">
        ใส่อินทรีย์+โดโลไมท์
      </ion-col>
      <ion-col size="4" class="ion-text-center gfSriracha txtBlue">
        {{ cpActivityData.organicDesc }}
      </ion-col>
    </ion-row>
    <ion-row style="border-bottom: 1px solid #0003;">
      <ion-col size="2" class="ion-text-left w3-center">
        <ion-icon
          *ngIf="cpActivityData.fertilizer1Ratio+cpActivityData.fertilizer2Ratio+cpActivityData.fertilizer3Ratio >= 100"
          color="success" name="checkmark-circle"></ion-icon>
        <ion-icon
          *ngIf="cpActivityData.fertilizer1Ratio+cpActivityData.fertilizer2Ratio+cpActivityData.fertilizer3Ratio < 100"
          color="warning" name="close-circle">
        </ion-icon>
      </ion-col>
      <ion-col size="6">
        ปุ๋ยเคมีตามผลผลิต
      </ion-col>
      <ion-col size="4" class="ion-text-center gfSriracha txtBlue">
        {{ cpActivityData.fertilizer1Ratio + cpActivityData.fertilizer2Ratio + cpActivityData.fertilizer3Ratio }}
      </ion-col>
    </ion-row>
    <ion-row style="border-bottom: 1px solid #0003;">
      <ion-col size="2" class="ion-text-left w3-center">
        <ion-icon *ngIf="cpActivityData.pipeup == true" color="success" name="checkmark-circle"></ion-icon>
        <ion-icon *ngIf="cpActivityData.pipeup == false" color="warning" name="close-circle">
        </ion-icon>
      </ion-col>
      <ion-col size="6">
        การพูนโคน
      </ion-col>
      <ion-col size="4" class="ion-text-center gfSriracha txtBlue">
        {{ cpActivityData.pipeupDesc }}
      </ion-col>
    </ion-row>
    <ion-row style="border-bottom: 1px solid #0003;">
      <ion-col size="2" class="ion-text-left w3-center">
        <ion-icon *ngIf="cpActivityData.GerminationPercent >= 90" color="success" name="checkmark-circle"></ion-icon>
        <ion-icon *ngIf="cpActivityData.GerminationPercent < 90 || cpActivityData.GerminationPercent == null"
          color="warning" name="close-circle">
        </ion-icon>
      </ion-col>
      <ion-col size="6">
        %การงอก >=90
      </ion-col>
      <ion-col size="4" class="ion-text-center gfSriracha txtBlue">
        {{ cpActivityData.GerminationPercent }}
      </ion-col>
    </ion-row>
    <ion-row style="border-bottom: 1px solid #0003;">
      <ion-col size="2" class="ion-text-left w3-center">
        <ion-icon *ngIf="cpActivityData.ton_last_fm >= 14 && cpActivityData.canetype.includes('ER')" color="success"
          name="checkmark-circle">
        </ion-icon>
        <ion-icon *ngIf="cpActivityData.ton_last_fm >= 14 && cpActivityData.canetype.includes('SR')" color="success"
          name="checkmark-circle">
        </ion-icon>
        <ion-icon *ngIf="cpActivityData.ton_last_fm >= 10 && cpActivityData.canetype.includes('ST')" color="success"
          name="checkmark-circle">
        </ion-icon>
        <ion-icon *ngIf="cpActivityData.ton_last_fm <14 && cpActivityData.canetype.includes('ER')" color="warning"
          name="close-circle">
        </ion-icon>
        <ion-icon *ngIf="cpActivityData.ton_last_fm <14 && cpActivityData.canetype.includes('SR')" color="warning"
          name="close-circle">
        </ion-icon>
        <ion-icon *ngIf="cpActivityData.ton_last_fm <10 && cpActivityData.canetype.includes('ST')" color="warning"
          name="close-circle">
        </ion-icon>
      </ion-col>
      <ion-col size="6">
        ประเมิน (ตัน/ไร่)
      </ion-col>
      <ion-col class="ion-text-center gfSriracha txtBlue">
        {{ cpActivityData.ton_last_fm }}
      </ion-col>
    </ion-row>
    <ion-row style="border-bottom: 1px solid #0003;">
      <ion-col size="2" class="ion-text-left w3-center">
        <ion-icon *ngIf="cpActivityData.groupcuted != null || cpActivityData.groupcuted != ''" color="success"
          name="checkmark-circle"></ion-icon>
        <ion-icon *ngIf="cpActivityData.groupcuted == null || cpActivityData.groupcuted == ''" color="warning"
          name="close-circle">
        </ion-icon>
      </ion-col>
      <ion-col size="6">
        กลุ่มตัดอ้อย
      </ion-col>
      <ion-col size="4" class="ion-text-center gfSriracha txtBlue">
        {{ cpActivityData.groupnameC }}
      </ion-col>
    </ion-row>
    <ion-row style="border-bottom: 1px solid #0003;">
      <ion-col size="2" class="ion-text-left w3-center">
        <ion-icon *ngIf="cpActivityData.groupMaintenance != null || cpActivityData.groupMaintenance != ''"
          color="success" name="checkmark-circle"></ion-icon>
        <ion-icon *ngIf="cpActivityData.groupMaintenance == null || cpActivityData.groupMaintenance == ''"
          color="warning" name="close-circle">
        </ion-icon>
      </ion-col>
      <ion-col size="6">
        กลุ่มบำรุงอ้อย
      </ion-col>
      <ion-col size="4" class="ion-text-center gfSriracha txtBlue">
        {{ cpActivityData.groupnameM }}
      </ion-col>
    </ion-row>
    <ion-row class="w3-pale-red w3-xlarge">
      <ion-col class="ion-text-center">
        <ion-icon name="wallet-outline"></ion-icon> วงเงินได้รับ {{ cpActivityData.credit_amount | number }}
      </ion-col>
      <!-- <div class="w3-tag w3-xxlarge w3-orange">วงเงินได้รับ {{ cpActivityData.credit_amount | number }}</div> -->
      <!-- <ion-col size="2" class="ion-text-left w3-center">
         <ion-icon *ngIf="cpActivityData.credit_amount > 0" color="success" name="checkmark-circle"></ion-icon>
        <ion-icon *ngIf="cpActivityData.credit_amount = 0" color="warning" name="close-circle"> 
        </ion-icon>
      </ion-col>
      <ion-col size="6">
        วงเงินได้รับ
      </ion-col>
      <ion-col size="4" class="ion-text-center gfSriracha txtBlue">
        {{ cpActivityData.credit_amount | number }}
      </ion-col> -->
    </ion-row>
    <ion-row style="border-bottom: 1px solid #0003;">
      <ion-col class="w3-center">
        <ion-text class="txtSmall" color="medium">ข้อมูล ณ วันที่ {{ cpActivityData.update_date_th }}</ion-text>
      </ion-col>
    </ion-row>
    <ion-row class="ion-text-right">
      <ion-col>
        <ion-button class="divMg-5" (click)="closeCurrentPage()" shape="round" fill="outline" color="danger">
          <ion-icon name="close-circle-outline"></ion-icon>
          ปิด
        </ion-button>
      </ion-col>
    </ion-row>

  </ion-grid>

</ion-content>
